/* Happy Day Histogram 1.0 */ function HappyDayHistogram(c,a,b,d){let bottom=0;let top=100;let width;let finalHTML="";let max=60;let i;let label,aOrP,extraClass,lastHour;let count=0;let totalHours=0;let events=0;let localColor="#043864";if(b!==undefined){localColor=b}finalHTML+="<style>#"+c+" .filledBottom { background-color: "+localColor+";}</style>";finalHTML+='<div class="dayHistogram"><div class="yAxisLabel">'+max+'</div><div class="yAxis">&nbsp;</div><div class="data">';for(i=0;i<a.length;i++){if(a[i]>0){totalHours+=1;lastHour=i}}for(i=0;i<a.length;i++){if(i>23){console.log("WARNING: Data has more than 24 hours. Showing only the first 24.");break}events=a[i];if(events<=0){continue}else{if(events>max){events=max;console.log("WARNING: Events for day",i,"has more than ",max,". There are only 60 min/hour! Capped value at ",max)}}if(count===0){extraClass=" firstHour "}else{extraClass=""}width=Math.floor((1/totalHours*100));finalHTML+='<div class="hour hour'+i+'" style="width: '+width+'%"><div class="chart '+extraClass+'">';bottom=Math.ceil((events/max*100)/2)*2;top=100-bottom;finalHTML+='<div class="bar"><div class="emptyTop" style="height: '+top+'%">&nbsp;</div>';finalHTML+='<div class="filledBottom " style="height: '+bottom+'%">&nbsp;</div>';finalHTML+="</div>";if(d!==undefined&&d[i]!==undefined){label=d[i]}else{if(i===0){label="12a"}else{if(i===12){label=i+"p"}else{if(i>=12){label=Number(i-12)+"p"}else{label=i+"a"}}}}finalHTML+='</div><div class="name"> '+label+"</div></div>";count+=1}finalHTML+='</div></div><br style="clear:both"/>';document.getElementById(c).innerHTML=finalHTML};